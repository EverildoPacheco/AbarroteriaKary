@model AbarroteriaKary.ModelsPartial.CotizacionVM
@{
    Layout = "~/Views/Shared/Reportes/_PdfLayout.cshtml";
    ViewData["Title"] = ViewData["Title"] ?? $"Pedido {Model.PedidoId} - Cotización";
}

<div class="rpt-topline"></div>
<div class="rpt-header rpt-botline">
    <div class="rpt-header__row">
        <div class="rpt-header__cell rpt-header__cell--logo">
            <img class="rpt-header__logo" src="~/img/Logos/Logo.png" alt="Logo" />
        </div>
        <div class="rpt-header__cell">
            <h1 class="rpt-title">Solicitud de cotización</h1>
            <div class="rpt-sub">Pedido @Model.PedidoId</div>
        </div>
    </div>
</div>

@await Html.PartialAsync("~/Views/Shared/Reportes/_ReporteMetaBoxes.cshtml",
    new AbarroteriaKary.ModelsPartial.ReporteMetaVM {
        Estado = "ACTIVO", /* ilustrativo */
        FechaHora = DateTime.Now.ToString("dd/MM/yyyy HH:mm"),
        Usuario = (ViewBag.Usuario as string) ?? "Admin",
        Desde = Model.FechaPedido.ToString("dd/MM/yyyy"),
        Hasta = null
    })

<table class="rpt-table">
  <thead>
    <tr>
      <th>Proveedor</th>
      <th>Fecha pedido</th>
      <th>Observación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>@Model.ProveedorNombre</td>
      <td class="t-center">@Model.FechaPedido:dd/MM/yyyy</td>
      <td>@(string.IsNullOrWhiteSpace(Model.Observacion) ? "-" : Model.Observacion)</td>
    </tr>
  </tbody>
</table>

<div class="rpt-divider"></div>

<table class="rpt-table">
  <thead>
    <tr>
      <th style="width:18mm;">Código</th>
      <th>Producto</th>
      <th class="t-center" style="width:22mm;">Cantidad</th>
      <th class="t-right"  style="width:25mm;">Precio ref.*</th>
    </tr>
  </thead>
  <tbody>
    @foreach (var l in Model.Lineas)
    {
      <tr>
        <td class="t-center">@l.Codigo</td>
        <td>@l.Nombre</td>
        <td class="t-center">@l.Cantidad</td>
        <td class="t-right">@l.PrecioCompra.ToString("C")</td>
      </tr>
    }
  </tbody>
</table>

<p style="font-size:10px;margin-top:6px;">* Precio referencial, sujeto a confirmación del proveedor.</p>

@await Html.PartialAsync("~/Views/Shared/Reportes/_PdfFooter.cshtml")
